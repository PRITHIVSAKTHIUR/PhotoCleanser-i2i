![1.png](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/Xtm3gyY2V0niyR-9SEri7.png)

# **PhotoCleanser-i2i [Image-to-Image] (experimental)**

<Gallery />

PhotoCleanser-i2i is an adapter for black-forest-lab's FLUX.1-Kontext-dev. It is an experimental LoRA designed for removing specified object(s) while preserving the remaining content in the image. The model was trained on 36 image pairs (18 start images, 18 end images). Synthetic result nodes were generated using NanoBanana from Google and labeled with DeepCaption-VLA-7B. The adapter is triggered with the following prompt:

> [!note]
[photo content], remove the specified object(s) from the image while preserving the background and remaining elements, maintaining realism and original details.

### Some use cases 

> [photo content], remove all humans from the image while preserving the background and remaining elements, maintaining realism and original details.

> [photo content], remove the ball from the image while preserving the background and remaining elements, maintaining realism and original details.

> [photo content], remove the cat from the image while preserving the background and remaining elements, maintaining realism and original details.

---

## Sample Inference Comparing the Base Model with the Adapter

> Note: In over 25 inferences across various scale settings, the base model struggles to properly reconstruct the basketball net after the ball is removed.

| FLUX.1-Kontext-dev | PhotoCleanser-i2i |
|-------------------|-----------------|
| ![FLUX.1 Kontext](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/smV-csqeQdj_xvQtWusoL.png) | ![PhotoCleanser-i2i](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/zo6mRhYg0sDDE1mSl2gDu.png) |

> No desired effect was achieved with the base model after testing many settings, but PhotoCleanser-i2i performed its best to remove the human character from the image.

| FLUX.1-Kontext-dev | PhotoCleanser-i2i |
|-------------------|-----------------|
| ![FLUX.1 Kontext](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/pzV6qtqNxWQ8yCu38jOlf.png) | ![PhotoCleanser-i2i](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/8tvuNUxXk_xF-hIo3ACiC.png) |

> No desired effect was achieved with the base model after testing many settings, but PhotoCleanser-i2i performed its best to remove the human/animal character from the image.

| FLUX.1-Kontext-dev | PhotoCleanser-i2i |
|-------------------|-----------------|
| ![FLUX.1 Kontext](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/E2o-lds_j12-Ebi7QWf_a.png) | ![PhotoCleanser-i2i](https://cdn-uploads.huggingface.co/production/uploads/65bb837dbfb878f46c77de4c/FuMhckW2QEUTuUKOidp6T.png) |

---

## Parameter Settings

| Setting                  | Value                    |
| ------------------------ | ------------------------ |
| Module Type              | Adapter                     |
| Base Model               | FLUX.1 Kontext Dev - fp8 |
| Trigger Words            | [photo content], remove the specified object(s) from the image while preserving the background and remaining elements, maintaining realism and original details. |
| Image Processing Repeats | 50                       |
| Epochs                   | 32                       |
| Save Every N Epochs      | 1                        |

    Labeling: DeepCaption-VLA-7B(natural language & English)
    
    Total Images Used for Training : 36 Image Pairs (18 Start, 18 End)

    Synthetic Result Node generated by NanoBanana from Google (Image Result Sets Dataset)
    

## Training Parameters

| Setting                     | Value     |
| --------------------------- | --------- |
| Seed                        | -         |
| Clip Skip                   | -         |
| Text Encoder LR             | 0.00001   |
| UNet LR                     | 0.00005   |
| LR Scheduler                | constant  |
| Optimizer                   | AdamW8bit |
| Network Dimension           | 64        |
| Network Alpha               | 32        |
| Gradient Accumulation Steps | -         |

## Label Parameters

| Setting         | Value |
| --------------- | ----- |
| Shuffle Caption | -     |
| Keep N Tokens   | -     |

## Advanced Parameters

| Setting                   | Value |
| ------------------------- | ----- |
| Noise Offset              | 0.03  |
| Multires Noise Discount   | 0.1   |
| Multires Noise Iterations | 10    |
| Conv Dimension            | -     |
| Conv Alpha                | -     |
| Batch Size                | -     |
| Steps   | 4370 (Low(700))  |
| Sampler | euler |



---

## Trigger words

You should use `[photo content]` to trigger the image generation.

You should use `remove the specified object(s) from the image while preserving the background and remaining elements` to trigger the image generation.

You should use `maintaining realism and original details.` to trigger the image generation.

 
## Download model


[Download](/prithivMLmods/PhotoCleanser-i2i/tree/main) them in the Files & versions tab.  
